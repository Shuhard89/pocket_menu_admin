<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Admin Panel - Settings</title>
	<link rel="stylesheet" href="fonts/fonts.css">
	<link rel="stylesheet" href="fonts/icon.css">
	<link rel="stylesheet" href="css/semantic.min.css">
	<link rel="stylesheet" href="css/croppie.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/mediaq.css">
</head>
<body>
	<div id="app">
		<div class="profile-page-wrapper">
			<div class="mobile-header-pane clearfix">
				<a href="profile-profile.html" class="mobile-header-logo">
					<img src="assets/logo.svg" alt="Pocket Menu">
				</a>
				<span class="mobile-burger" role="button">
					<span></span>
					<span></span>
				</span>
			</div>
			<div class="profile-sidebar">
				<a href="profile-profile.html" class="profile-sidebar-header">
					<img src="assets/logo.svg" alt="Pocket Menu">
				</a>
				<div class="profile-sidebar-photo">
					<img src="assets/placeholder_content/sidebar_profile_photo.png" alt="Faro del porto">
					<span class="ui orange right ribbon label profile-sidebar-photo-ribbon">Faro del porto</span>
				</div>
				<nav class="profile-sidebar-nav">
					<ul>
						<li>
							<a href="profile-profile.html">
								<i class="id card outline icon"></i>
								<span>Профиль</span>
							</a>
						</li>
						<li>
							<a href="profile-menu.html">
								<i class="food icon"></i>
								<span>Меню</span>
							</a>
						</li>
						<li>
							<a href="#">
								<i class="newspaper icon"></i>
								<span>Новости</span>
							</a>
						</li>
						<li>
							<a href="#">
								<i class="building outline icon"></i>
								<span>План заведения</span>
							</a>
						</li>
						<li>
							<a href="#">
								<i class="pie chart icon"></i>
								<span>Аналитика</span>
							</a>
						</li>
						<li class="active">
							<a href="profile-settings.html">
								<i class="settings icon"></i>
								<span>Настройки</span>
							</a>
						</li>
						<li>
							<a href="index.html">
								<i class="sign out icon"></i>
								<span>Выйти</span>
							</a>
						</li>
					</ul>
				</nav>
			</div>
			<div class="profile-content-wrapper">
				<div class="profile-content-container-normal">
					<div class="profile-content-container-header">
						<h1>Настройки</h1>
					</div>
					<div class="ui segment profile-segment">
						<form action="#" method="POST" id="settings-form" class="ui form">
							<div class="fields-block">
								<h2 class="fields-heading">Мобильный для входа <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
								<ul class="profile-settings-list">
									<li>
										<i class="mobile icon"></i>
										<span>+380938633388</span>
										<i class="remove link orange icon"></i>
									</li>
									<li>
										<i class="mobile icon"></i>
										<span>+380938633388</span>
										<i class="remove link orange icon"></i>
									</li>
								</ul>
								<span class="ui labeled icon button orange" id="settings-add-tel-open-modal-btn">
									<i class="plus icon"></i>
									Добавить номер
								</span>
							</div>
							<div class="fields-block">
								<h2 class="fields-heading">Facebook аккаунт <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
								<ul class="profile-settings-list">
									<li>
										<i class="facebook f icon"></i>
										<span>Serega Kavun</span>
										<i class="remove link orange icon"></i>
									</li>
									<li>
										<i class="facebook f icon"></i>
										<span>Жека Дзецина</span>
										<i class="remove link orange icon"></i>
									</li>
								</ul>
								<span class="ui labeled icon button orange" onclick="$('#add-acc-fb-modal').modal('show');">
									<i class="plus icon"></i>
									Добавить аккаунт
								</span>
							</div>
							<div class="fields-block">
								<div class="clearfix">
									<div class="field half-width half-width-float">
										<h2 class="fields-heading">Язык сервиса <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
										<div class="ui dropdown labeled icon fluid button settings-language-dropdown">
										  <input type="hidden" name="service-language" value="ru">
										  <i class="world icon"></i>
											<span class="text"><span class="description">Русский</span>
											    Russian
											</span>
										  <div class="menu">
										    <div class="ui icon search input">
										      <i class="search icon"></i>
										      <input type="text" placeholder="Поиск...">
										    </div>
										    <div class="divider"></div>
										    <div class="header">
										      <i class="world icon"></i>
										      Языки
										    </div>
								            <div class="scrolling menu">
											  <div class="item selected active" data-value="ru" data-english="Russian">
											    <span class="description">Русский</span>
											    Russian
											  </div>
											  <div class="item" data-value="uk" data-english="Ukrainian">
											    <span class="description">Українська</span>
											    Ukrainian
											  </div>
											  <div class="item" data-value="en" data-english="English">
											    <span class="description">English</span>
											    English
											  </div>
											</div>
										  </div>
										</div>
									</div>
									<div class="field half-width half-width-float">
										<h2 class="fields-heading">Язык меню <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
										<div class="ui dropdown labeled icon fluid button settings-language-dropdown">
										  <input type="hidden" name="menu-language" value="ru">
										  <i class="world icon"></i>
											<span class="text"><span class="description">Русский</span>
											    Russian
											</span>
										  <div class="menu">
										    <div class="ui icon search input">
										      <i class="search icon"></i>
										      <input type="text" placeholder="Поиск...">
										    </div>
										    <div class="divider"></div>
										    <div class="header">
										      <i class="world icon"></i>
										      Языки
										    </div>
								            <div class="scrolling menu">
											  <div class="item selected active" data-value="ru" data-english="Russian">
											    <span class="description">Русский</span>
											    Russian
											  </div>
											  <div class="item" data-value="uk" data-english="Ukrainian">
											    <span class="description">Українська</span>
											    Ukrainian
											  </div>
											  <div class="item" data-value="en" data-english="English">
											    <span class="description">English</span>
											    English
											  </div>
											</div>
										  </div>
										</div>
									</div>
								</div>
							</div>
							<div class="fields-block">
								<h2 class="fields-heading">Изменить пароль <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
								<div class="profile-phones-wrapper field">
									<div class="field half-width profile-tel-field">
										<div class="ui icon input fluid">
											<input type="password" placeholder="Введите старый пароль" name="current-password">
										</div>
									</div>
									<div class="field half-width profile-tel-field">
										<div class="ui icon input fluid">
											<input type="password" placeholder="Введите новый пароль" name="new-password">
										</div>
									</div>
									<div class="field half-width profile-tel-field">
										<div class="ui icon input fluid">
											<input type="password" placeholder="Повторите новый пароль" name="new-password-repeat">
										</div>
									</div>
								</div>
							</div>
							<div class="remove-acc-block">
								<h2 class="fields-heading fields-heading-remove-acc">Удаление аккаунта <i class="help circle icon popup-heading-icon has-popup" data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui pariatur in iure." data-variation="wide"></i></h2>
								<span class="ui button red" onclick="$('#remove-acc-msg').modal('show');">
									Удалить аккаунт
								</span>
							</div>
						</form>
					</div>
					<div class="main-form-buttons">
						<button type="submit" class="ui button orange" form="settings-form">
							Сохранить изменения
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="ui modal tiny" id="remove-acc-msg">
		<div class="header">Предупреждение</div>
		<div class="content">
			<p>
				<b>Вы действительно хотите удалить свой аккаунт?</b>
			</p>
			<p>В течении 90 дней Ваш аккаунт возможно будет восстановить без каких-либо потерь. В этом состоянии Ваш профиль не будет доступен другим пользователям. Однако, по истечению 90 дней профиль будет удален безвозвратно.</p>
		</div>
		<div class="actions">
			<div class="ui cancel button basic red">Отменить</div>
			<div class="ui approve button red">Удалить</div>
		</div>
	</div>
	<div class="ui modal mini" id="add-acc-tel-modal">
		<div class="header">Привязка номера</div>
		<div class="content form-modal-content">
			<form action="#" method="POST" id="account-tel-form" class="ui form">
				<p class="add-tel-step1-msg">Шаг 1: Введите номер телефона</p>
				<p class="add-tel-step2-msg hidden">Шаг 2: Введите полученный код</p>
				<div class="field">
					<div class="ui input fluid settings-tel-input">
						<input type="tel" placeholder="Введите номер телефона" name="user-tel" id="user-tel">
					</div>
				</div>
				<div class="field settings-code-add-tel-field hidden">
					<div class="ui input fluid settings-code-input">
						<input type="number" placeholder="Введите код" name="user-code" id="user-code">
					</div>
				</div>
			</form>
		</div>
		<div class="actions">
			<div class="ui cancel button basic orange">Отмена</div>
			<button type="submit" class="ui button orange" form="account-tel-form">Добавить номер</button>
		</div>
	</div>
	<div class="ui modal mini" id="add-acc-fb-modal">
		<div class="header">Добавить аккаунт Facebook</div>
		<div class="content form-modal-content">
			<span class="auth-soc-login-btn auth-soc-login-btn__facebook">Facebook</span>
		</div>
		<div class="actions">
			<div class="ui cancel button basic orange">Отмена</div>
		</div>
	</div>
	<script src="js/libs/ofi.min.js"></script>
	<script src="js/libs/jquery-3.2.1.min.js"></script>
	<script src="js/libs/jquery-migrate-3.0.0.min.js"></script>
	<script src="js/libs/jquery.mobile.custom.min.js"></script>
	<script src="js/libs/semantic.min.js"></script>
	<script src="js/libs/croppie.min.js"></script>
	<script src="js/main.js"></script>
	<script>
		$('#account-tel-form')
		  .form({
		    inline : true,
		    fields: {
		      usertel: {
		        identifier  : 'user-tel',
		        rules: [
		          {
		            type   : 'empty',
		            prompt : 'Введите номер в формате +380XXXXXXXXX'
		          },
		          {
		            type   : 'regExp[/[0-9]{11}/i]',
		            prompt : 'Введите номер в формате +380XXXXXXXXX'
		          }
		        ]
		      },
		      usercode: {
		        identifier  : 'user-code',
		        optional	: true,
		        depends    : 'user-tel',
		        rules: [
		          {
		            type   : 'empty',
		            prompt : 'Введите код'
		          },
		          {
		            type   : 'number',
		            prompt : 'Неверный формат'
		          }
		        ]
		      }
		    }
		  })
		;
		$('#account-tel-form').on('submit', function(event) {
			var $userTelInput = $('#user-tel'),
				$userCodeField = $('.settings-code-add-tel-field'),
				$formMsgStep1 = $('.add-tel-step1-msg'),
				$formMsgStep2 = $('.add-tel-step2-msg');

			if ( !$userTelInput.parents('.field').hasClass('error') && $userCodeField.hasClass('hidden') ){
				event.preventDefault();

				$('#account-tel-form')
				  .form({
				    inline : true,
				    fields: {
				      usertel: {
				        identifier  : 'user-tel',
				        rules: [
				          {
				            type   : 'empty',
				            prompt : 'Введите номер телефона'
				          },
				          {
				            type   : 'regExp[/[0-9]{11}/i]',
				            prompt : 'Введите номер в формате +380XXXXXXXXX'
				          }
				        ]
				      },
				      usercode: {
				        identifier  : 'user-code',
				        optional	: false,
				        depends    : 'user-tel',
				        rules: [
				          {
				            type   : 'empty',
				            prompt : 'Введите код'
				          },
				          {
				            type   : 'number',
				            prompt : 'Неверный формат'
				          }
				        ]
				      }
				    }
				  })
				;

				$formMsgStep1.addClass('hidden');
				$formMsgStep2.removeClass('hidden');
				$userTelInput.parent('.input').addClass('disabled');
				$userCodeField.removeClass('hidden');
			}
		});

		$('#settings-add-tel-open-modal-btn').on('click', function() {
			$('#add-acc-tel-modal').modal({
				closable  : false,
				onHidden : function() {
					$('.add-tel-step1-msg').removeClass('hidden');
					$('.add-tel-step2-msg').addClass('hidden');
					$('.settings-tel-input').removeClass('disabled');
					$('.settings-code-add-tel-field').addClass('hidden');
					$('#user-tel, #user-code').val('');

					$('#account-tel-form')
					  .form({
					    inline : true,
					    fields: {
					      usertel: {
					        identifier  : 'user-tel',
					        rules: [
					          {
					            type   : 'empty',
					            prompt : 'Введите номер в формате +380XXXXXXXXX'
					          },
					          {
					            type   : 'regExp[/[0-9]{11}/i]',
					            prompt : 'Введите номер в формате +380XXXXXXXXX'
					          }
					        ]
					      },
					      usercode: {
					        identifier  : 'user-code',
					        optional	: true,
					        depends    : 'user-tel',
					        rules: [
					          {
					            type   : 'empty',
					            prompt : 'Введите код'
					          },
					          {
					            type   : 'number',
					            prompt : 'Неверный формат'
					          }
					        ]
					      }
					    }
					  })
					;
				}
			}).modal('show');
		});
	</script>
</body>
</html>